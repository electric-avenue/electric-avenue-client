<ion-modal-view ng-init="getStatus(data.selected.username);" class="vendor-profile-page">
  <ion-header-bar class="bar bar-dark">
    <button class="button button-clear icon ion-arrow-left-c button-stable" ng-click="hideVendor()"></button>
    <h1 ng-if="data.selected.User.displayname" class="title">
      {{data.selected.User.displayname}}
    </h1>
    <h1 ng-if="!data.selected.User.displayname" class="title">
      {{data.selected.User.username}}
    </h1>
  </ion-header-bar>
  <ion-content>
    <div class="row">
      <div class="col col-center">
        <!-- <img ng-if="data.selected.image" class="roundimage vendorImage" ng-src="http://localhost:5000/profileImages/{{data.selected.image}}"> -->
        <img class="roundimage vendorImage" ng-if="!data.selected.image" ng-src="http://img3.wikia.nocookie.net/__cb20121227201208/jamesbond/images/6/61/Generic_Placeholder_-_Profile.jpg">
        <img class="roundimage vendorImage" ng-if="data.selected.image.image" ng-src="http://localhost:5000/profileImages/{{vendor.image}}">
      </div>
      <div class="col vendorinfo">
        <div class="row">
          <div ng-show="data.selected.status" class="col vendorstatus">
            Status: Online
          </div>
          <div ng-show="!data.selected.status" class="col vendorstatus">
            Status: Offline
          </div>
        </div>
        <div class="row">
          <div class="col vendoractivity">
            {{data.selected.category}}
          </div>
        </div>
        <div class="row rating">
          <div class="col">
            Rating: 
            <i class="ion ion-star" style="color:gold" ng-repeat="n in displayRating(data.selected.avgrating, true);" ng-click="addRating(n);"></i>
            <i class="ion ion-star" style="color:#E3E4E6; margin-left:-4px; margin-right: 3px" ng-repeat="n in displayRating(data.selected.avgrating);" ng-click="addRating(n);"></i>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col tipbuttonarea">
        <button class="button button-dark tipbutton" ng-click="showTipModal(data.selected.User.username);">
          Send Tip
        </button>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <h4 class="title">Description</h4>
        <div class="vendordescription">
          {{data.selected.description}}
        </div>
      </div>
    </div>
    <div class="vendormapbox" data-tap-disabled="true">
      <leaflet defaults="map.defaults" markers="map.markers" center="map.center"></leaflet>
      <!-- <leaflet defaults="map.defaults" layers="" center="map.center"></leaflet> -->
    </div>
    <div class="row">
      <div class="col vendorlocation">
        <div class="row">
          <div class="col">
            Nearest Address: <br />
            <address>
              944 Market St, San Francisco, CA 94102
            </address>
          </div>
        </div>
        <div class="row">
          <div class="col">
            Distance from you: <br />
            0.5 miles
          </div>
        </div>
      </div>
    </div>
  </ion-content>
</ion-modal-view>
